!function(l){l.fn.ModalSelector=function(a){let t=l.extend({url:null,data:null,nameProperty:"name",idProperty:"id",childrenProperty:"children",_:{id:Math.floor(1e4*Math.random()),modalParent:"body"},localization:{search:"Ara"},onSelect:null},a);const n=l(this);let e=null;async function o(a){null!==t.url&&(t.data=await async function(){return(await fetch(t.url)).json()}()),l(`<div class="modal fade modal-selector" id="modal-${t._.id}" tabindex="-1" role="dialog" aria-hidden="true">\n                <div class="modal-dialog" role="document">\n                  <div class="modal-content">\n                    <div class="modal-body">\n                    <div class="search-area">\n                      <div class="input-group mb-3">\n                        <input id="modal-selector-search-${t._.id}" type="text" class="form-control" placeholder="${t.localization.search}">\n                        <div class="input-group-append">\n                          <span class="input-group-text" id="basic-addon2"><i class="fas fa-search"></i></span>\n                        </div>\n                      </div>\n                    </div>\n                    <ul class="list-group">\n                      ${function l(a,n){let e="";return a.forEach(a=>{let o=!0;a.hasOwnProperty(t.childrenProperty)&&(o=!1),e+=`<li class="list-group-item modal-selector-item ${o?"last-item":""}" data-data='${JSON.stringify(a)}'\n                            style="padding-left: ${n}em"><i class="fas ${o?"fa-play":"fa-level-up-alt fa-rotate-90"} mr-3"></i>\n                            ${a[t.nameProperty]}</li>`,o||(n++,e+='<ul class="list-group">',a[t.childrenProperty].forEach(a=>{e+=l([a],n)}),n--,e+="</ul>")}),e}(t.data,1)}\n                    </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>`).appendTo(t._.modalParent),r().on("keyup",i),l(".modal-selector .list-group-item.last-item").on("click",d),e=l("#modal-"+t._.id),function(){if(null===e)return;e.modal("show")}()}function i(a){!function(a){a=a.toLowerCase();let t=l(".modal-selector-item");if(""===a)return void t.show();for(let n of t){let t=(n=l(n)).text().trim().toLowerCase();t.includes(a)?n.show():n.hide()}}(r().val())}function r(){return l("#modal-selector-search-"+t._.id)}function d(a){null!==t.onSelect&&t.onSelect(a,l(this).data("data"),e)}!async function(){if(null===t.url&&null===t.data)throw Exception("Url veya data property'si girilmiş olmalıdır.");n.on("click",o)}()}}(jQuery);
